{% extends 'base.html' %}

{% block head %}
<!-- User Dashboard Specific CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}" />
{% endblock %}

{% block content %}
<div class="dashboard-wrapper">
  <!-- Background Gradient -->
  <div class="dashboard-bg-gradient"></div>

  <div class="container">
    <!-- Welcome Card -->
    <div class="dashboard-welcome">
      <div class="dashboard-welcome-card">
        <div class="dashboard-welcome-badge">
          <span class="dashboard-pulse-dot"></span>
          <span>Welcome Back {{ current_user.first_name }}!</span>
        </div>
        <h1 class="dashboard-welcome-title">Your Personalized Activity Dashboard</h1>
        <p class="dashboard-welcome-text">Discover activities that match your mood and make every moment count</p>
      </div>
    </div>

    <!-- Carousel Section -->
    <div class="dashboard-carousel-section">
      <div class="dashboard-carousel-container">
        <div id="carouselDashboard" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">
          <!-- Indicators -->
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselDashboard" data-bs-slide-to="0" class="active" aria-current="true"></button>
            <button type="button" data-bs-target="#carouselDashboard" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#carouselDashboard" data-bs-slide-to="2"></button>
          </div>

          <!-- Carousel Inner -->
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://images.unsplash.com/photo-1455390582262-044cdead277a?w=1600&h=800&auto=format&fit=crop&q=80" class="d-block w-100" alt="Creative Writing">
            </div>
            <div class="carousel-item">
              <img src="https://images.unsplash.com/photo-1550592704-6c76defa9985?w=1600&h=800&auto=format&fit=crop&q=80" class="d-block w-100" alt="Adventure Activities">
            </div>
            <div class="carousel-item">
              <img src="https://images.unsplash.com/photo-1462642109801-4ac2971a3a51?w=1600&h=800&auto=format&fit=crop&q=80" class="d-block w-100" alt="Nature Exploration">
            </div>
          </div>

          <!-- Controls -->
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselDashboard" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselDashboard" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="dashboard-stats-section">
      <div class="dashboard-stats-card">
        <div class="dashboard-stats-grid">
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-icon">ğŸ¯</div>
            <div class="dashboard-stat-value">69</div>
            <div class="dashboard-stat-label">Activities Tried</div>
          </div>
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-icon">â¤ï¸</div>
            <div class="dashboard-stat-value">43</div>
            <div class="dashboard-stat-label">Favorites</div>
          </div>
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-icon">ğŸ†</div>
            <div class="dashboard-stat-value">89%</div>
            <div class="dashboard-stat-label">Match Rate</div>
          </div>
          <div class="dashboard-stat-item">
            <div class="dashboard-stat-icon">â­</div>
            <div class="dashboard-stat-value">4.8</div>
            <div class="dashboard-stat-label">Avg Rating</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="dashboard-quick-actions">
      <div class="dashboard-section-header">
        <h2 class="dashboard-section-title">Quick Actions</h2>
      </div>
      <div class="dashboard-actions-grid">
        <a href="{{ url_for('main.index') }}#mood-selector" class="dashboard-action-card">
          <div class="dashboard-action-icon">ğŸ¨</div>
          <h3 class="dashboard-action-title">Find Activities</h3>
          <p class="dashboard-action-description">Discover new activities based on your current mood</p>
        </a>
        <a href="{{ url_for('main.favorites') }}" class="dashboard-action-card">
          <div class="dashboard-action-icon">ğŸ’</div>
          <h3 class="dashboard-action-title">View Favorites</h3>
          <p class="dashboard-action-description">Check out your saved favorite activities</p>
        </a>
        <a href="{{ url_for('main.history') }}" class="dashboard-action-card">
          <div class="dashboard-action-icon">ğŸ“š</div>
          <h3 class="dashboard-action-title">Activity History</h3>
          <p class="dashboard-action-description">Review your past activity selections</p>
        </a>
      </div>
    </div>

    <!-- Recent Activities Section -->
    <div class="dashboard-recent-section">
      <div class="dashboard-section-header">
        <h2 class="dashboard-section-title">Recent Activities</h2>
        <a href="{{ url_for('main.history') }}" class="dashboard-view-all">View All â†’</a>
      </div>
      <div class="dashboard-activities-list">
        <div class="dashboard-activity-item">
          <div class="dashboard-activity-icon">ğŸ¨</div>
          <div class="dashboard-activity-content">
            <div class="dashboard-activity-name">Watercolor Painting</div>
            <div class="dashboard-activity-time">2 hours ago</div>
          </div>
        </div>
        <div class="dashboard-activity-item">
          <div class="dashboard-activity-icon">ğŸƒ</div>
          <div class="dashboard-activity-content">
            <div class="dashboard-activity-name">Morning Jog</div>
            <div class="dashboard-activity-time">Yesterday</div>
          </div>
        </div>
        <div class="dashboard-activity-item">
          <div class="dashboard-activity-icon">ğŸ“–</div>
          <div class="dashboard-activity-content">
            <div class="dashboard-activity-name">Reading Fiction</div>
            <div class="dashboard-activity-time">2 days ago</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Additional dashboard-specific JavaScript if needed
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize carousel with custom settings if needed
    const carousel = document.querySelector('#carouselDashboard');
    if (carousel) {
      const bsCarousel = new bootstrap.Carousel(carousel, {
        interval: 4000,
        wrap: true,
        touch: true
      });
    }
  });
</script>
{% endblock %}